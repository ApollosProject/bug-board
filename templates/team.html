{% extends "base.html" %}

{% block title %}Engineering Teams{% endblock %}

{% block extra_head %}
<style>
  .health-icon { font-size: 0.9em; margin-right: 0.3em; }
  .completed-project {
    text-decoration: line-through;
    text-decoration-thickness: 2px;
    color: #555;
  }
</style>
{% endblock %}

{% block content %}
      <div id="team-content" aria-busy="true">
        <article aria-busy="true"></article>
      </div>
{% endblock %}

{% block extra_scripts %}
<script>
  async function loadSection(id, url) {
    const container = document.getElementById(id);
    if (!container) {
      return;
    }
    try {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(`Failed to load ${id}`);
      }
      const html = await response.text();
      container.innerHTML = html;
      container.removeAttribute('aria-busy');
    } catch (error) {
      container.innerHTML = '<article>Unable to load section.</article>';
      container.removeAttribute('aria-busy');
    }
  }

  loadSection('team-content', '/partials/team/content');
</script>
{% endblock %}
